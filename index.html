<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Calculateur Universel de Poutres et Poutrelles</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        .input-group {
            display: flex;
            gap: 0.5rem;
            align-items: center;
        }
        .result-valid {
            background-color: #dcfce7;
            color: #166534;
        }
        .result-invalid {
            background-color: #fef2f2;
            color: #dc2626;
        }
        .fleche-valid {
            color: #16a34a;
        }
        .fleche-invalid {
            color: #dc2626;
        }
    </style>
</head>
<body class="bg-gray-100">
    <div class="max-w-6xl mx-auto p-6 bg-white">
        <h1 class="text-3xl font-bold text-center mb-8 text-blue-800">
            Calculateur Universel de Poutres et Poutrelles
        </h1>
        
        <div class="grid lg:grid-cols-4 gap-6">
            <!-- Type de structure -->
            <div class="bg-purple-50 p-4 rounded-lg">
                <h2 class="text-lg font-semibold mb-3 text-gray-800">Type de structure</h2>
                <select id="typePoutre" class="w-full px-3 py-2 border rounded mb-3">
                    <option value="versalam">Poutres Versa-Lam</option>
                    <option value="ajouree-connecteurs">Poutrelles - Connecteurs métalliques</option>
                    <option value="ajouree-ame-metal">Poutrelles - Âme métallique</option>
                    <option value="ajouree-bois-dente">Poutrelles - Bois denté collé</option>
                </select>

                <div id="usageContainer">
                    <label class="block text-sm font-medium mb-1">Type d'usage</label>
                    <select id="typeUsage" class="w-full px-3 py-2 border rounded mb-3">
                        <option value="plancher-1-etage">Poutre de plancher (un étage)</option>
                        <option value="plancher-2-etages">Poutre de plancher (deux étages)</option>
                        <option value="faitiere">Poutre faîtière</option>
                        <option value="linteau-toit">Linteau (toit seulement)</option>
                        <option value="linteau-toit-etages">Linteau (toit + deux étages)</option>
                    </select>
                </div>
            </div>

            <!-- Géométrie -->
            <div class="bg-blue-50 p-4 rounded-lg">
                <h2 class="text-lg font-semibold mb-3 text-gray-800">Géométrie</h2>
                
                <div class="mb-3">
                    <label class="block text-sm font-medium mb-1">Portée</label>
                    <div class="input-group">
                        <input type="number" id="portee" step="0.1" class="flex-1 px-3 py-2 border rounded">
                        <span class="text-sm">pi.</span>
                        <input type="number" id="porteeInches" step="1" class="w-16 px-2 py-2 border rounded">
                        <span class="text-sm">po.</span>
                    </div>
                    <div class="text-xs text-gray-600 mt-1" id="porteeDecimal"></div>
                </div>

                <div class="mb-3">
                    <label class="block text-sm font-medium mb-1">Type portée</label>
                    <select id="typePortee" class="w-full px-3 py-2 border rounded">
                        <option value="simple">Simple</option>
                        <option value="continue">Continue</option>
                    </select>
                </div>

                <div class="mb-3">
                    <label class="block text-sm font-medium mb-1">Étages</label>
                    <select id="etages" class="w-full px-3 py-2 border rounded">
                        <option value="1">Un étage</option>
                        <option value="2">Deux étages</option>
                    </select>
                </div>

                <div class="mb-3">
                    <label class="block text-sm font-medium mb-1">LT Étage (pi.)</label>
                    <input type="number" id="ltEtage" step="0.01" class="w-full px-3 py-2 border rounded">
                </div>

                <div class="mb-3">
                    <label class="block text-sm font-medium mb-1">LT RC (pi.)</label>
                    <input type="number" id="ltRC" step="0.01" class="w-full px-3 py-2 border rounded">
                </div>

                <div class="flex items-center space-x-2 mb-2">
                    <input type="checkbox" id="contrainteLargeur" class="rounded">
                    <label class="text-sm">Contrainte largeur max</label>
                </div>

                <div class="flex items-center space-x-2 mb-3">
                    <input type="checkbox" id="contrainteHauteur" class="rounded">
                    <label class="text-sm">Contrainte hauteur max</label>
                </div>

                <div>
                    <label class="block text-sm font-medium mb-1">Optimiser</label>
                    <select id="optimiser" class="w-full px-3 py-2 border rounded">
                        <option value="moins-plis">Moins de plis</option>
                        <option value="plus-plis">Plus de plis</option>
                        <option value="hauteur-min">Hauteur minimale</option>
                    </select>
                </div>
            </div>

            <!-- Charges -->
            <div class="bg-green-50 p-4 rounded-lg">
                <h2 class="text-lg font-semibold mb-3 text-gray-800">Charges</h2>
                
                <div class="mb-3">
                    <label class="block text-sm font-medium mb-1">CM (lb/pi.ca.)</label>
                    <input type="number" id="chargeMorte" value="15" class="w-full px-3 py-2 border rounded">
                </div>

                <div class="mb-3">
                    <label class="block text-sm font-medium mb-1">CV (lb/pi.ca.)</label>
                    <input type="number" id="chargeVive" value="40" class="w-full px-3 py-2 border rounded">
                </div>

                <div class="mb-3">
                    <label class="block text-sm font-medium mb-1">Neige (lb/pi.ca.)</label>
                    <input type="number" id="chargeNeige" value="0" class="w-full px-3 py-2 border rounded">
                </div>

                <div class="mt-4 p-3 border rounded bg-white">
                    <div class="text-xs text-gray-600 space-y-1">
                        <div>Total: <span id="totalLineaire">0</span> lb/pi.ca.</div>
                        <div>Linéaire: <span id="totalLinearePond">0</span> lb/pi. (pond.)</div>
                        <div>Étage: <span id="chargeEtage">0</span> lb/pi.ca.</div>
                        <div>RC: <span id="chargeRC">0</span> lb/pi.ca.</div>
                    </div>
                </div>
            </div>

            <!-- Résultats -->
            <div class="bg-gray-50 p-4 rounded-lg">
                <h2 class="text-lg font-semibold mb-3 text-gray-800">Résultats</h2>
                
                <div class="mb-3">
                    <h3 class="text-blue-600 font-medium">Structure</h3>
                    <div id="resultatStructure" class="result-invalid p-2 rounded text-sm">
                        ✗ Aucune configuration valide
                        <br>- Charges ou portée excessive
                    </div>
                </div>

                <div class="mt-4">
                    <h3 class="text-sm font-medium mb-2">Solutions possibles:</h3>
                    <div id="solutionsList" class="space-y-2 max-h-64 overflow-y-auto">
                        <!-- Solutions will be populated here -->
                    </div>
                </div>

                <div class="mt-4 text-xs text-gray-500">
                    <div>Calculs basés sur les tableaux CECOBOIS et Versa-Lam 2.0E</div>
                    <div>Flèche: L/360 (CV), L/240 (CT)</div>
                </div>
            </div>
        </div>
    </div>

    <script src="script.js"></script>
</body>
</html>
